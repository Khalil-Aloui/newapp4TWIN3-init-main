<!DOCTYPE html>
<html>
<head>
    <title>Document</title>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <h1>Bienvenue</h1>
  Message:<input type="text"id="chat"/>
  <button onClick="sendMsg()">Envoyer</button>
    <button onClick="displayMsg()">Afficher Message</button>

  <script>
  var socket = io();
  socket.on('msg',(data)=>{
    console.log(data)
    var p = document.createElement('p')
    p.innerText= data
    document.body.append(p)
  })

 socket.on('msgList', (data)=>{
  console.log(data)
  for(i=0;i<data.length;i++){
    var p = document.createElement('p')
    p.innerText= data[i].msg
    document.body.append(p)
  }
 })


  function sendMsg(){
    var msg = document.getElementById('chat').value
    console.log(msg)
    var data={name,msg}
    console.log(data)

    socket.emit('send-msg',data)
  }

function displayMsg(){

    socket.emit('displayMsg','Afficher les messages')
  }

 

   var name= prompt('Veuillez saisir votre nom !')
  </script>

</body>
</html>